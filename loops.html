<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <style>
    *{
    margin: 0;
    padding:0;
  }
    .wrap{
        height: 200px;
        width: 200px;
        background: transparent;
        position: relative;
        margin: 300px 400px;
        /* overflow: hidden; 用的时候设置hidden*/
        border-bottom:5px solid black;

      }
      .son{
        transition: left 0.6s;
        opacity: 1;
        position:absolute;
        left: 0;
        background: yellowgreen;
        height: 200px;
        width: 200px;

        box-sizing: border-box;
      }
      .son1{
        background: hotpink;
      }
      .son2{
        background: skyblue;
      }
      .son3{
        background: yellow;
      }
      .son4{
        background: orange;
      }
      .son5{
        background: cyan;
      }
      .son6{
        background: red;
      }
      .son7{
        background: #644;
      }

    </style>
</head>

<body>
  <p><span>arr0 % 200:</span> <span id="asd"></span></p>
  <button type="button" name="button" onclick="dong(200)">dong</button>
  <div class="wrap">
    <div class="son">go</div>
    <div class="son son1" style="left:200px;">a</div>
    <div class="son son2" style="left:400px;">b</div>
    <div class="son son3" style="left:600px;">c</div>
    <div class="son son4" style="left:800px;">d</div>
    <div class="son son5" style="left:1000px;">e</div>
    <div class="son son6" style="left:1200px;">f</div>
    <div class="son son7" style="left:1400px;">g</div>
  </div>
  <script>
    let a = document.querySelector(".wrap")
    let c = a.children
    let d = Array.from(c)

    function dong(single) {
      let arr0 = window.window.getComputedStyle(d[0]).left.split('px')[0]
      //
      // let arr2 = window.window.getComputedStyle(d[2]).left.split('px')[0]
      document.getElementById('asd').innerHTML = arr0 % single;
      if (arr0 % single == 0) { //看看都到位没,防止点太快bug
        for(let i=0;i<d.length;i++){//层级关系:往右跑的在最底下
          d[i].style.zIndex = 0;
          let _left = window.window.getComputedStyle(d[i]).left.split('px')[0]
          d[i].style.left = `${_left-200}px`;
        }
        d[0].style.zIndex = -1;
        d[1].style.zIndex = 1;
        if (arr0 == "-200") { //左边到头了就push到右边
          d[0].style.left = `${single*(d.length-2)}px`
          d.push(d.shift()) //
        }
      }
    }
  </script>
</body>

</html>
